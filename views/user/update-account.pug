extends ../layouts/user-panel

block user-panel
    .px-4(class='sm:px-6 lg:px-8')
        div(class='sm:flex sm:items-center')
            div(class='sm:flex-auto')
                h1.text-base.font-semibold.leading-6.text-gray-900
                p.mt-2.text-sm.text-gray-700
                    | Fill in your details to update account.
            .mt-4(class='sm:ml-16 sm:mt-0 sm:flex-none')
        .mt-8.flow-root
            .-mx-4.-my-2(class='sm:-mx-6 lg:-mx-8')
                .flex.justify-between.min-w-full.py-2.align-middle(class='sm:px-6 lg:px-8')
                    div.mt-10(class='sm:w-full sm:max-w-[480px]')
                        form.space-y-6(action='/users/update-account', method='POST')
                            div
                                label.block.text-sm.font-medium.leading-6.text-gray-900(for='email') First name
                                div.mt-2
                                    input#fname.block.w-full.rounded-md.border-0.text-gray-900.shadow-sm.ring-1.ring-inset.ring-gray-300.h-14.px-5(name='first_name', type='text', required='', value=userData.first_name, class='py-1.5 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6')
                            div
                                label.block.text-sm.font-medium.leading-6.text-gray-900(for='email') Last name
                                div.mt-2
                                    input#lname.block.w-full.rounded-md.border-0.text-gray-900.shadow-sm.ring-1.ring-inset.ring-gray-300.h-14.px-5(name='last_name', type='text', required='', value=userData.last_name, class='py-1.5 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6')
                            div
                                label.block.text-sm.font-medium.leading-6.text-gray-900(for='email') Email address
                                div.mt-2
                                    input#email.block.w-full.rounded-md.border-0.text-gray-900.shadow-sm.ring-1.ring-inset.ring-gray-300.h-14.px-5(name='email', type='email', autocomplete='email', value=userData.email, required='', class='py-1.5 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6')
                            div
                                label.block.text-sm.font-medium.leading-6.text-gray-900(for='password') Password
                                div.mt-2
                                    input#password.block.w-full.rounded-md.border-0.text-gray-900.shadow-sm.ring-1.ring-inset.ring-gray-300.h-14.px-5(name='password', type='password', autocomplete='current-password', class='py-1.5 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6')

                            div
                                button.flex.w-full.justify-center.items-center.rounded-md.bg-gray-800.px-3.text-sm.font-semibold.leading-6.text-white.shadow-sm.h-14(type='submit', class='py-1.5 hover:bg-gray-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-gray-800') Update

                    div.mt-10(class='sm:w-full sm:max-w-[480px]')
                        form.space-y-6(action='/users/upload-picture', method='POST', enctype="multipart/form-data")
                            - if(message.uploadError)
                                div.block.w-full.bg-red-300.p-3.rounded.my-3 #{message.uploadError}
                            div.flex.justify-center
                                -if(userData.photo)
                                    img(class="inline-block h-[120px] w-[120px] rounded-full" src="/images/" + userData.photo)
                                -else
                                    img(class="inline-block h-20 w-20 rounded-full" src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80")
                            div.mt-2
                                input#file.block.w-full.rounded-md.border-0.text-gray-900.shadow-sm.ring-1.ring-inset.ring-gray-300.h-14.px-5(name='photo', type='file', required='', class='py-1.5 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6')
                            div.my-2
                                button.flex.w-full.justify-center.items-center.rounded-md.bg-gray-800.px-3.text-sm.font-semibold.leading-6.text-white.shadow-sm.h-14(type='submit', class='py-1.5 hover:bg-gray-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-gray-800') Upload photo

